{% extends "base.html" %}
{%load crispy_forms_tags%}
{% block content %}

<style>
  .thumbnail {
    padding: .25rem;
    background-color: #fff;
    /* border: 1px solid #dee2e6; */
    border-radius: .75rem;
    max-width: 100%;
    height: auto;
  }

  .page-item {
    margin: 5px;
  }

  .card-img {
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;
  }

  .card-title {
    margin-bottom: 0.3rem;
  }

  .cat {
    display: inline-block;
    margin-bottom: 1rem;
  }

  .fa-users {
    margin-left: 1rem;
  }

  .card-footer {
    font-size: 0.8rem;
  }

  .card-img-top {
    max-height: 35vh;
    object-fit: cover;
  }

  .sticky {
    position: sticky;
    top: 90px;

  }
  .sticky2 {
    position: sticky;
    top: 0;
  }
</style>

<div class="container my-4">
  <div class="d-flex justify-content-center px-1">
    <div class="col-4 mx-1 mb-1">
      {% if object.author == user %}
      <div class="sticky">
        <div class="">
          <div class="card-body rounded mb-2 card">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <div class="text-center">
                <h3>Actions</h3>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam tenetur, asperiores temporibus vero, eius quisquam at natus perspiciatis eveniet incidunt pariatur animi fuga iste quasi sed doloremque, aperiam magnam? Dolore!
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Saepe, placeat architecto aperiam iure aut ducimus
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        <div class="card-body sticky2 rounded card">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <div class="text-center">
              <h3>Categories</h3>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quisquam ullam nesciunt, nulla repudiandae placeat repellat minima corrupti error sunt architecto aspernatur quas accusamus, sint dolor esse! Assumenda perferendis qui eaque!Lorem Lorem ipsum dolor sit amet consectetur, adipisicing elit. Neque blanditiis perferendis qui! Commodi, maxime neque non esse ut eius, eveniet sed, quo ea voluptatum ducimus. Repellendus nemo accusamus Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores, nulla illo necessitatibus repellat consequuntur magni ipsum impedit quae ratione beatae cum exercitationem quod saepe inventore minus doloribus labore. Quisquam, ex. corporis provident!
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-8 mx-1">
      <div class="mx-auto">
        <div class="card">
          <img class="card-img card-img-top img-fluid" src="{{ post.image.url }}" alt="Bologna">
          <div class="card-body">
            <h1 class="card-title my-2">{{post.title}}</h1>
            <div class="d-flex justify-content-start my-2">
              <div class="me-5">
                <i class="bx bxs-user"></i><a href="{% url 'user-info' post.id %}">{{object.author}}</a>
              </div>
              <div class="me-5">
                <i class="bx bx-time"></i>{{ object.date_posted|date:"F d, Y" }}
              </div>
              <div class="me-5">
                <i class="bx bxs-comment"></i>{{comments.count}}
              </div>
            </div>
            <p class="card-text">{{object.content | safe}}</p>
          </div>
        </div>
        {% include 'includes/subpages/subposts.html' %}
      </div>
    </div>
  </div>
  {% include 'includes/subpages/comments.html' %}
</div>











<!-- <script>
  // sandbox disable popups
  if (window.self !== window.top && window.name != "view1") {
    ;
    window.alert = function () {/*disable alert*/ };
    window.confirm = function () {/*disable confirm*/ };
    window.prompt = function () {/*disable prompt*/ };
    window.open = function () {/*disable open*/ };
  }

  // prevent href=# click jump
  document.addEventListener("DOMContentLoaded", function () {
    var links = document.getElementsByTagName("A");
    for (var i = 0; i < links.length; i++) {
      if (links[i].href.indexOf('#') != -1) {
        links[i].addEventListener("click", function (e) {
          console.debug("prevent href=# click");
          if (this.hash) {
            if (this.hash == "#") {
              e.preventDefault();
              return false;
            }
            else {
              /*
              var el = document.getElementById(this.hash.replace(/#/, ""));
              if (el) {
                el.scrollIntoView(true);
              }
              */
            }
          }
          return false;
        })
      }
    }
  }, false);
</script> -->
{% endblock content %}